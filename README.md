Time complexity is O(N+M) and worst case is O(n*m) as prob to find same hash but a!=b is prob=1/(len of pat) thus this can happen.
